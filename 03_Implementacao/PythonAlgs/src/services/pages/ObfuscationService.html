<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Obfuscation</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="js/lib.js"></script>
    <link rel="stylesheet" href="css/obfuscationStyle.css">
</head>
<body>

<div class="container">

    <div class="jumbotron">
        <h1 class="display-4">Face Obfuscation</h1>
        <p class="lead">Data protection is something extremely necessary nowadays, try our service</p>
        <hr class="my-4">
        <p>Deep learning to face detection.</p>
        <p>Developed as module of a final course project</p>
        <p>You can even integrate it with your own app</p>
        <a class="btn btn-outline-secondary" href="#" role="button">Know more</a>
    </div>

    <h3 class="text-center">Some examples</h3>

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
        </ol>

        <div id="slideshow" class="carousel-inner">
            <div class="carousel-item active">
                <img src="images/ObfuscationExample1.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample2.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample3.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample4.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample5.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample6.jpg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="images/ObfuscationExample7.jpg" class="d-block w-100" alt="...">
            </div>
        </div>

        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <h3 class="text-center">Try yourself</h3>

    <form enctype="multipart/form-data" method="post">

        <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
            </div>
            <div class="custom-file">
                <input type="file" class="custom-file-input" id="inputGroupFile01"
                       aria-describedby="inputGroupFileAddon01" name="upload_file"
                       accept="image/jpeg, image/png, image/jpg, video/mp4, video/ogg,
                        video/mov, video/avi, video/wav">
                <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
            </div>
        </div>

        <div id="spinner" class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
        </div>

        <button id="submitBtn" class="btn btn-dark" name="submit" type="submit"
                data-submit="Sending data..." onclick="show_spinner()">Submit</button>

    </form>

    <div id="result">
        <!-- image obfuscation -->
        {% if content_type is not None and content_type == "image"%}
        <h3 class="text-center">Obfuscation Result</h3>
        <img src="{{ result_path }}" alt="image" style="margin-left: 10%, margin-bottom: 10%;">
        {% end %}


        <!-- video obfuscation -->
        {% if content_type is not None and content_type == "video"%}
        <h3 class="text-center">Obfuscation Result</h3>
        <video width="640" height="420" controls style="margin-left: 20%; margin-bottom: 10%;">
            <source src="{{ result_path }}" type="{{ mime_type }}">
        </video>
        {% end %}
    </div>

</div>
</body>
</html>